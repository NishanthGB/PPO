<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PPO AI with ChatGPT</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh}
.glass{background:rgba(255,255,255,0.95);backdrop-filter:blur(10px)}
.recommendation-card{border-left:5px solid;transition:all 0.3s}
.recommendation-card:hover{transform:translateY(-4px);box-shadow:0 20px 40px rgba(0,0,0,0.15)}
.priority-critical{border-left-color:#dc2626}
.priority-high{border-left-color:#f59e0b}
.priority-medium{border-left-color:#3b82f6}
.priority-low{border-left-color:#10b981}
.spinner{border:4px solid #f3f4f6;border-top:4px solid #667eea;width:40px;height:40px;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
</style>
</head>
<body>
<header class="bg-black bg-opacity-30 backdrop-blur-md sticky top-0 z-50">
<div class="max-w-7xl mx-auto px-6 py-4">
<h1 class="text-white text-3xl font-bold">üéØ PPO AI + ChatGPT</h1>
<p class="text-purple-200 text-sm">AI-Powered Product Page Optimization with Monday.com & OpenAI</p>
</div>
</header>
<main class="max-w-7xl mx-auto px-6 py-8">
<div class="glass rounded-2xl p-8 mb-8 shadow-2xl">
<h2 class="text-2xl font-bold text-gray-800 mb-6">‚öôÔ∏è Configuration</h2>
<div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">OpenAI API Key</label>
<input type="password" id="openaiKey" class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg bg-white" placeholder="sk-...">
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">üìä Select App</label>
<select id="appSelect" class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg bg-white">
<option value="">-- Choose an App --</option>
<option value="GA">GA - Growth Analytics</option>
<option value="MT">MT - Marketing Tools</option>
<option value="CC">CC - Content Creator</option>
<option value="AI">AI - AI Assistant</option>
<option value="CA">CA - Customer Analytics</option>
<option value="DA">DA - Data Analytics</option>
<option value="QR">QR - QR Code Scanner</option>
<option value="AR">AR - Augmented Reality</option>
</select>
</div>
<div>
<label class="block text-sm font-bold text-gray-700 mb-2">üîç Analysis Type</label>
<select id="analysisType" class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg bg-white">
<option value="recent">Recent (Last 3-4)</option>
<option value="all">All History</option>
</select>
</div>
<button onclick="handleAnalyze()" class="col-span-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-2 px-6 rounded-lg transition transform hover:scale-105 active:scale-95">üöÄ Analyze with AI</button>
</div>
<div id="results" class="mt-6 min-h-20 p-4 rounded-lg bg-gray-50"><span class="text-gray-500">üëâ Fill config and click Analyze</span></div>
</div>
</main>
</body>
<script>const MOCK_BOARD_DATA = { groups: [ { title: 'Product Pages', items_page: { items: [ { name: 'Homepage Banner', updated_at: '2025-01-10T14:20:00Z', column_values: [ { title: 'Conversions', value: '4200' }, { title: 'Bounce Rate', value: '32%' } ] } ] } } ] }; async function handleAnalyze() { const openaiKey = document.getElementById('openaiKey').value; const appCode = document.getElementById('appSelect').value; const analysisType = document.getElementById('analysisType').value; const resultsDiv = document.getElementById('results'); if (!openaiKey) { resultsDiv.innerHTML = '<span class="text-red-600 font-bold">Please enter OpenAI API Key</span>'; return; } if (!appCode) { resultsDiv.innerHTML = '<span class="text-red-600 font-bold">Please select an app</span>'; return; } resultsDiv.innerHTML = '<div class="flex items-center justify-center"><div class="spinner"></div><span class="ml-4 text-gray-700">Analyzing...</span></div>'; try { const boardData = await fetchFromMonday(appCode, analysisType); const analysisData = analyzeData(appCode, boardData); const recommendations = await getAIRecommendations(openaiKey, appCode, analysisData); displayResults(appCode, analysisType, recommendations); } catch (error) { resultsDiv.innerHTML = `<div class="bg-red-100 border-l-4 border-red-500 p-4 rounded"><span class="text-red-700 font-bold">Error</span><p class="text-red-600 mt-2">${error.message}</p></div>`; } } async function fetchFromMonday(appCode, analysisType) { try { return MOCK_BOARD_DATA; } catch (error) { throw new Error(`Monday API error: ${error.message}`); } } function analyzeData(appCode, boardData) { const allItems = []; boardData.groups.forEach(group => { if (group.items_page?.items) { group.items_page.items.forEach(item => { allItems.push({ name: item.name, appCode: appCode, updated_at: item.updated_at, metrics: item.column_values || [] }); }); } }); const totalItems = allItems.length; const recentItems = allItems.slice(0, 5); const metrics = { totalItems: totalItems, recentItems: recentItems, appCode: appCode, timestamp: new Date().toISOString() }; return JSON.stringify(metrics, null, 2); } async function getAIRecommendations(apiKey, appCode, analysis) { const prompt = `Analyze this product optimization data for app '${appCode}' and provide specific, actionable recommendations:\n\nData: ${analysis}\n\nProvide recommendations in JSON format with: title, description, priority (high/medium/low), and expectedImpact.`; try { const res = await fetch('https://api.openai.com/v1/chat/completions', { method: 'POST', headers: { 'Authorization': `Bearer ${apiKey}`, 'Content-Type': 'application/json' }, body: JSON.stringify({ model: 'gpt-3.5-turbo', messages: [{role: 'user', content: prompt}], temperature: 0.7, max_tokens: 1500 }) }); if (!res.ok) throw new Error(`ChatGPT error: ${res.status}`); const data = await res.json(); if (data.error) throw new Error(data.error.message); return JSON.parse(data.choices[0].message.content); } catch (e) { throw new Error(`ChatGPT Error: ${e.message}`); } } function displayResults(appCode, analysis, recommendations) { let html = `<div class="space-v-4 divide-y"><h3 class="text-xl font-bold text-gray-800 mb-4">AI Recommendations for ${appCode}</h3>`; if (!Array.isArray(recommendations)) { recommendations = [recommendations]; } recommendations.forEach(rec => { const priorityClass = `priority-${rec.priority || 'medium'}`; html += `<div class="recommendation-card ${priorityClass} rounded-2xl p-6 mb-4 glass"><h4 class="text-xl font-bold mb-2">${rec.title}</h4><p class="text-gray-700 mb-3">${rec.description}</p><div class="flex justify-between items-center"><span class="text-sm font-semibold text-gray-600">Priority: ${(rec.priority || 'medium').toUpperCase()}</span><span class="text-sm font-semibold text-gray-600">Expected Impact: ${rec.expectedImpact || '10-15%'}</span></div></div>`; }); html += '</div>'; document.getElementById('results').innerHTML = html; }</script></html>
